Schema::create('users', function (Blueprint $table) {
            $table->id();
            $table->string('username')->unique();
            $table->string('email')->unique();
            $table->string('phone_number')->nullable();
            $table->string('profile_image')->nullable();
            $table->string('password');
            $table->foreignId('location_id')->nullable()->constrained('locations')->onDelete('set null');
            $table->rememberToken();
            $table->timestamps();
});

Schema::create('password_reset_tokens', function (Blueprint $table) {
            $table->string('email')->primary();
            $table->string('token');
            $table->timestamp('created_at')->nullable();
        });

Schema::create('failed_jobs', function (Blueprint $table) {
            $table->id();
            $table->string('uuid')->unique();
            $table->text('connection');
            $table->text('queue');
            $table->longText('payload');
            $table->longText('exception');
            $table->timestamp('failed_at')->useCurrent();
        });

Schema::create('personal_access_tokens', function (Blueprint $table) {
            $table->id();
            $table->morphs('tokenable');
            $table->string('name');
            $table->string('token', 64)->unique();
            $table->text('abilities')->nullable();
            $table->timestamp('last_used_at')->nullable();
            $table->timestamp('expires_at')->nullable();
            $table->timestamps();
        });

 Schema::create('locations', function (Blueprint $table) {
            $table->id();
            $table->foreignId('parent_id')->nullable()->constrained('locations')->onDelete('cascade');
            $table->timestamps();
        });

Schema::create('location_translations', function (Blueprint $table) {
            $table->id();
            $table->foreignId('location_id')->constrained()->onDelete('cascade');
            $table->string('locale', 2); // en, ru, hy
            $table->string('name');
            $table->unique(['location_id', 'locale']);
        });

Schema::create('listings', function (Blueprint $table) {
            $table->id();
            // Relations
            $table->foreignId('user_id')->constrained('users')->onDelete('cascade');
            $table->foreignId('category_id')->nullable()->constrained('categories')->onDelete('set null');
            $table->foreignId('fuel_id')->nullable()->constrained('fuels')->onDelete('set null');
            $table->foreignId('transmission_id')->nullable()->constrained('transmissions')->onDelete('set null');
            $table->foreignId('drivetrain_id')->nullable()->constrained('drivetrains')->onDelete('set null');
            $table->foreignId('condition_id')->nullable()->constrained('conditions')->onDelete('set null');
            $table->foreignId('location_id')->nullable()->constrained('locations')->onDelete('set null');
            $table->foreignId('make_id')->nullable()->constrained('makes')->onDelete('set null');
            $table->foreignId('car_model_id')->nullable()->constrained('car_models')->onDelete('set null');
            $table->foreignId('engine_id')->nullable()->constrained('engines')->onDelete('set null');
            $table->foreignId('color_id')->nullable()->constrained('colors')->onDelete('set null');
            $table->foreignId('currency_id')->nullable()->constrained('currencies')->onDelete('set null');
            $table->foreignId('driver_type_id')->nullable()->constrained('driver_types')->onDelete('set null'); // NEW

            // Core info
            $table->year('year')->nullable();
            $table->unsignedInteger('mileage')->nullable();
            $table->string('vin', 17)->nullable()->unique(); // NEW: VIN code
            $table->decimal('price', 12, 2)->nullable();
            $table->string('currency_code', 3)->default('AMD');
            $table->string('title');
            $table->text('description')->nullable();

            // Status
            $table->enum('status', ['draft', 'pending', 'published', 'rejected', 'expired'])->default('draft');
            $table->timestamp('featured_until')->nullable()->index();
            $table->timestamp('published_until')->nullable();
            $table->unsignedInteger('views')->default(0);

            $table->timestamps();
        });
Schema::create('categories', function (Blueprint $table) {
            $table->id();
            $table->timestamps();
        });

Schema::create('category_translations', function (Blueprint $table) {
            $table->id();
            $table->foreignId('category_id')->constrained()->onDelete('cascade');
            $table->string('locale', 2);
            $table->string('name');
            $table->unique(['category_id', 'locale']);
        });

Schema::create('fuels', function (Blueprint $table) {
             $table->id();
             $table->timestamps();
         });

Schema::create('fuel_translations', function (Blueprint $table) {
            $table->id();
            $table->foreignId('fuel_id')->constrained('fuels')->onDelete('cascade');
            $table->string('locale', 2);
            $table->string('name');
            $table->unique(['fuel_id', 'locale']);
        });


Schema::create('transmissions', function (Blueprint $table) {
            $table->id();
            $table->timestamps();
        });

Schema::create('transmission_translations', function (Blueprint $table) {
            $table->id();
            $table->foreignId('transmission_id')->constrained('transmissions')->onDelete('cascade');
            $table->string('locale', 2);
            $table->string('name');
            $table->unique(['transmission_id', 'locale']);
        });

Schema::create('drivetrains', function (Blueprint $table) {
            $table->id();
            $table->timestamps();
        });

Schema::create('drivetrain_translations', function (Blueprint $table) {
                 $table->id();
                 $table->foreignId('drivetrain_id')->constrained('drivetrains')->onDelete('cascade');
                 $table->string('locale', 2);
                 $table->string('name');
                 $table->unique(['drivetrain_id', 'locale']);
       });


Schema::create('conditions', function (Blueprint $table) {
            $table->id();
            $table->timestamps();
        });


Schema::create('condition_translations', function (Blueprint $table) {
            $table->id();
            $table->foreignId('condition_id')->constrained('conditions')->onDelete('cascade');
            $table->string('locale', 2);
            $table->string('name');
            $table->unique(['condition_id', 'locale']);
        });


 Schema::create('makes', function (Blueprint $table) {
            $table->id();
            $table->timestamps();
        });


 Schema::create('make_translations', function (Blueprint $table) {
            $table->id();
            $table->foreignId('make_id')->constrained('makes')->onDelete('cascade');
            $table->string('locale', 2);
            $table->string('name');
            $table->unique(['make_id', 'locale']);
        });


Schema::create('car_models', function (Blueprint $table) {
            $table->id();
            $table->timestamps();
        });


 Schema::create('car_model_translations', function (Blueprint $table) {
            $table->id();
            $table->foreignId('car_model_id')->constrained('car_models')->onDelete('cascade');
            $table->string('locale', 2);
            $table->string('name');
            $table->unique(['car_model_id', 'locale']);
        });

Schema::create('engines', function (Blueprint $table) {
            $table->id();
            $table->timestamps();
        });


Schema::create('engine_translations', function (Blueprint $table) {
            $table->id();
            $table->foreignId('engine_id')->constrained('engines')->onDelete('cascade');
            $table->string('locale', 2);
            $table->string('name');
            $table->unique(['engine_id', 'locale']);
        });


 Schema::create('colors', function (Blueprint $table) {
            $table->id();
            $table->timestamps();
        });


 Schema::create('color_translations', function (Blueprint $table) {
            $table->id();
            $table->foreignId('color_id')->constrained('colors')->onDelete('cascade');
            $table->string('locale', 2);
            $table->string('name');
            $table->unique(['color_id', 'locale']);
        });


  Schema::create('currencies', function (Blueprint $table) {
            $table->id();
            $table->string('code', 3)->unique(); // AMD, USD, EUR
            $table->timestamps();
        });


  Schema::create('currency_translations', function (Blueprint $table) {
            $table->id();
            $table->foreignId('currency_id')->constrained('currencies')->onDelete('cascade');
            $table->string('locale', 2);
            $table->string('name');
            $table->unique(['currency_id', 'locale']);
        });




















